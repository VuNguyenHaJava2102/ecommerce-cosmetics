<button
  type="button"
  class="btn btn-primary"
  data-bs-toggle="modal"
  data-bs-target="#addFormModal"
  mat-raised-button
  color="primary"
>
  Thêm sản phẩm
</button>

<!-- Modal -->
<div id="addFormModal" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!-- header -->
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Thêm sản phẩm</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>

      <!-- body -->
      <div class="modal-body">
        <form [formGroup]="addForm" class="row">
          <input type="hidden" formControlName="id" />
          <input type="hidden" formControlName="active" />
          <input type="hidden" formControlName="sold" />

          <!-- name -->
          <div class="form-group col-6">
            <label for="name">Tên sản phẩm</label>
            <input
              type="text"
              id="name"
              [ngClass]="{
                'is-invalid':
                  addForm.get('name')?.touched && addForm.get('name')?.invalid
              }"
              class="form-control"
              formControlName="name"
            />
            <small class="invalid-feedback">Tên sản phẩm không hợp lệ</small>
          </div>

          <!-- price -->
          <div class="form-group col-6">
            <label for="price">Giá</label>
            <div class="input-group">
              <input
                type="number"
                id="price"
                [ngClass]="{
                  'is-invalid':
                    addForm.get('price')?.touched &&
                    addForm.get('price')?.invalid
                }"
                class="form-control"
                formControlName="price"
              />
              <div class="input-group-append">
                <span class="input-group-text" id="basic-addon2">VNĐ</span>
              </div>
              <small class="invalid-feedback">Giá sản phẩm không hợp lệ</small>
            </div>
          </div>

          <!-- quantity -->
          <div class="form-group col-6">
            <label for="quantity">Số lượng</label>
            <input
              type="number"
              id="quantity"
              [ngClass]="{
                'is-invalid':
                  addForm.get('quantity')?.touched &&
                  addForm.get('quantity')?.invalid
              }"
              class="form-control"
              formControlName="quantity"
            />
            <small class="invalid-feedback">Số lượng không hợp lệ</small>
          </div>

          <!-- discount -->
          <div class="form-group col-6">
            <label for="discount">Khuyến mãi</label>
            <div class="input-group">
              <input
                type="number"
                id="discount"
                [ngClass]="{
                  'is-invalid':
                    addForm.get('discount')?.touched &&
                    addForm.get('discount')?.invalid
                }"
                class="form-control"
                formControlName="discount"
              />
              <div class="input-group-append">
                <span class="input-group-text" id="basic-addon2">%</span>
              </div>
              <small class="invalid-feedback">Khuyến mãi không hợp lệ</small>
            </div>
          </div>

          <!-- category -->
          <div class="col-6 p-0">
            <div class="form-group col-12">
              <label for="category">Loại sản phẩm</label>
              <select
                class="custom-select"
                id="category"
                formControlName="categoryId"
              >
                <option *ngFor="let cat of categories" [value]="cat.id">
                  {{ cat.name }}
                </option>
              </select>
            </div>
            <div class="form-group col-12">
              <label for="description">Mô tả sản phẩm</label>
              <textarea
                type="text"
                id="description"
                [ngClass]="{
                  'is-invalid':
                    addForm.get('description')?.touched &&
                    addForm.get('description')?.invalid
                }"
                class="form-control"
                rows="6"
                formControlName="description"
              ></textarea>
              <small class="invalid-feedback">Không hợp lệ</small>
            </div>
          </div>

          <!-- image -->
          <div class="col-6 text-center">
            <h3>Ảnh sản phẩm</h3>
            <div class="text-center mb-3">
              <img
                id="thumbnail"
                class="profile-img-thumbnail"
                src="/assets/image/default-image.jpg"
              />
            </div>
            <div class="custom-file">
              <input
                id="customFile"
                class="custom-file-input"
                type="file"
                accept="image/*"
                (change)="imageChange($event)"
              />
              <label class="custom-file-label" for="customFile">Chọn ảnh</label>
            </div>
          </div>

          <button
            mat-raised-button
            color="primary"
            class="col-2 m-3"
            [disabled]="addForm?.invalid"
            (click)="save()"
          >
            Thêm
          </button>
        </form>
      </div>

      <!-- footer -->
      <div class="modal-footer">
        <button
          id="closeBtnAdd"
          class="btn btn-secondary"
          type="button"
          data-bs-dismiss="modal"
        >
          Đóng
        </button>
      </div>
    </div>
  </div>
</div>
